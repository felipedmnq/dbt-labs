sodaversion: 2

sources:
  - name: jaffle_shop
    description: tris is a source description - jaffle_shop
    database: dbt-tutorial
    schema: jaffle_shop
    tables:
        - name: customers
          description: this is a table description - customer
          columns:
            - name: id
              tests:
                - unique
                - not_null
                
        - name: orders 
          description: this is the orders table
          columns:
            - name: id
              tests:
                - unique
                - not_null
                
          loaded_at_field: _etl_loaded_at
          freshness: 
            warn_after: {count: 12, period: hour}
            error_after: {count: 24, period: hour}

  - name: stripe
    description: this is a source description - stripe
    database: dbt-tutorial
    schema: stripe
    tables:
      - name: payment
        description: this is a table description - payment
        loaded_at_field: _batched_at
        freshness: 
          warn_after: {count: 12, period: hour}
          error_after: {count: 24, period: hour}